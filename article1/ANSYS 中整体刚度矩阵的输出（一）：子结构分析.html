<!doctype html>
<html>
<head>
    <meta charset='UTF-8'>
    <meta name='viewport' content='width=device-width initial-scale=1'>

    <link href='https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext' rel='stylesheet' type='text/css' />
    <style type='text/css'>
                html {
                    overflow-x: initial !important;
                }

                :root {
                    --bg-color: #ffffff;
                    --text-color: #333333;
                    --select-text-bg-color: #B5D6FC;
                    --select-text-font-color: auto;
                    --monospace: "Lucida Console",Consolas,"Courier",monospace;
                    --title-bar-height: 20px;
                }

                .mac-os-11 {
                    --title-bar-height: 28px;
                }

                html {
                    font-size: 14px;
                    background-color: var(--bg-color);
                    color: var(--text-color);
                    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
                    -webkit-font-smoothing: antialiased;
                }

                body {
                    margin: 0px;
                    padding: 0px;
                    height: auto;
                    inset: 0px;
                    font-size: 1rem;
                    line-height: 1.42857;
                    overflow-x: hidden;
                    background: inherit;
                    tab-size: 4;
                }

                iframe {
                    margin: auto;
                }

                a.url {
                    word-break: break-all;
                }

                a:active, a:hover {
                    outline: 0px;
                }

                .in-text-selection, ::selection {
                    text-shadow: none;
                    background: var(--select-text-bg-color);
                    color: var(--select-text-font-color);
                }

                #write {
                    margin: 0px auto;
                    height: auto;
                    width: inherit;
                    word-break: normal;
                    overflow-wrap: break-word;
                    position: relative;
                    white-space: normal;
                    overflow-x: visible;
                    padding-top: 36px;
                }

                    #write.first-line-indent p {
                        text-indent: 2em;
                    }

                        #write.first-line-indent li p, #write.first-line-indent p * {
                            text-indent: 0px;
                        }

                    #write.first-line-indent li {
                        margin-left: 2em;
                    }

                .for-image #write {
                    padding-left: 8px;
                    padding-right: 8px;
                }

                body.typora-export {
                    padding-left: 30px;
                    padding-right: 30px;
                }

                .typora-export .footnote-line, .typora-export li, .typora-export p {
                    white-space: pre-wrap;
                }

                .typora-export .task-list-item input {
                    pointer-events: none;
                }

                @media screen and (max-width: 500px) {
                    body.typora-export {
                        padding-left: 0px;
                        padding-right: 0px;
                    }

                    #write {
                        padding-left: 20px;
                        padding-right: 20px;
                    }

                    .CodeMirror-sizer {
                        margin-left: 0px !important;
                    }

                    .CodeMirror-gutters {
                        display: none !important;
                    }
                }

                #write li > figure:last-child {
                    margin-bottom: 0.5rem;
                }

                #write ol, #write ul {
                    position: relative;
                }

                img {
                    max-width: 100%;
                    vertical-align: middle;
                    image-orientation: from-image;
                }

                button, input, select, textarea {
                    color: inherit;
                    font: inherit;
                }

                    input[type="checkbox"], input[type="radio"] {
                        line-height: normal;
                        padding: 0px;
                    }

                *, ::after, ::before {
                    box-sizing: border-box;
                }

                #write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre {
                    width: inherit;
                }

                #write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p {
                    position: relative;
                }

                p {
                    line-height: inherit;
                }

                h1, h2, h3, h4, h5, h6 {
                    break-after: avoid-page;
                    break-inside: avoid;
                    orphans: 4;
                }

                p {
                    orphans: 4;
                }

                h1 {
                    font-size: 2rem;
                }

                h2 {
                    font-size: 1.8rem;
                }

                h3 {
                    font-size: 1.6rem;
                }

                h4 {
                    font-size: 1.4rem;
                }

                h5 {
                    font-size: 1.2rem;
                }

                h6 {
                    font-size: 1rem;
                }

                .md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p {
                    margin-top: 1rem;
                    margin-bottom: 1rem;
                }

                .hidden {
                    display: none;
                }

                .md-blockmeta {
                    color: rgb(204, 204, 204);
                    font-weight: 700;
                    font-style: italic;
                }

                a {
                    cursor: pointer;
                }

                sup.md-footnote {
                    padding: 2px 4px;
                    background-color: rgba(238, 238, 238, 0.7);
                    color: rgb(85, 85, 85);
                    border-radius: 4px;
                    cursor: pointer;
                }

                    sup.md-footnote a, sup.md-footnote a:hover {
                        color: inherit;
                        text-transform: inherit;
                        text-decoration: inherit;
                    }

                #write input[type="checkbox"] {
                    cursor: pointer;
                    width: inherit;
                    height: inherit;
                }

                figure {
                    overflow-x: auto;
                    margin: 1.2em 0px;
                    max-width: calc(100% + 16px);
                    padding: 0px;
                }

                    figure > table {
                        margin: 0px;
                    }

                tr {
                    break-inside: avoid;
                    break-after: auto;
                }

                thead {
                    display: table-header-group;
                }

                table {
                    border-collapse: collapse;
                    border-spacing: 0px;
                    width: 100%;
                    overflow: auto;
                    break-inside: auto;
                    text-align: left;
                }

                    table.md-table td {
                        min-width: 32px;
                    }

                .CodeMirror-gutters {
                    border-right: 0px;
                    background-color: inherit;
                }

                .CodeMirror-linenumber {
                    user-select: none;
                }

                .CodeMirror {
                    text-align: left;
                }

                .CodeMirror-placeholder {
                    opacity: 0.3;
                }

                .CodeMirror pre {
                    padding: 0px 4px;
                }

                .CodeMirror-lines {
                    padding: 0px;
                }

                div.hr:focus {
                    cursor: none;
                }

                #write pre {
                    white-space: pre-wrap;
                }

                #write.fences-no-line-wrapping pre {
                    white-space: pre;
                }

                #write pre.ty-contain-cm {
                    white-space: normal;
                }

                .CodeMirror-gutters {
                    margin-right: 4px;
                }

                .md-fences {
                    font-size: 0.9rem;
                    display: block;
                    break-inside: avoid;
                    text-align: left;
                    overflow: visible;
                    white-space: pre;
                    background: inherit;
                    position: relative !important;
                }

                .md-fences-adv-panel {
                    width: 100%;
                    margin-top: 10px;
                    text-align: center;
                    padding-top: 0px;
                    padding-bottom: 8px;
                    overflow-x: auto;
                }

                #write .md-fences.mock-cm {
                    white-space: pre-wrap;
                }

                .md-fences.md-fences-with-lineno {
                    padding-left: 0px;
                }

                #write.fences-no-line-wrapping .md-fences.mock-cm {
                    white-space: pre;
                    overflow-x: auto;
                }

                .md-fences.mock-cm.md-fences-with-lineno {
                    padding-left: 8px;
                }

                .CodeMirror-line, twitterwidget {
                    break-inside: avoid;
                }

                .footnotes {
                    opacity: 0.8;
                    font-size: 0.9rem;
                    margin-top: 1em;
                    margin-bottom: 1em;
                }

                    .footnotes + .footnotes {
                        margin-top: 0px;
                    }

                .md-reset {
                    margin: 0px;
                    padding: 0px;
                    border: 0px;
                    outline: 0px;
                    vertical-align: top;
                    background: 0px 0px;
                    text-decoration: none;
                    text-shadow: none;
                    float: none;
                    position: static;
                    width: auto;
                    height: auto;
                    white-space: nowrap;
                    cursor: inherit;
                    -webkit-tap-highlight-color: transparent;
                    line-height: normal;
                    font-weight: 400;
                    text-align: left;
                    box-sizing: content-box;
                    direction: ltr;
                }

                li div {
                    padding-top: 0px;
                }

                blockquote {
                    margin: 1rem 0px;
                }

                li .mathjax-block, li p {
                    margin: 0.5rem 0px;
                }

                li blockquote {
                    margin: 1rem 0px;
                }

                li {
                    margin: 0px;
                    position: relative;
                }

                blockquote > :last-child {
                    margin-bottom: 0px;
                }

                blockquote > :first-child, li > :first-child {
                    margin-top: 0px;
                }

                .footnotes-area {
                    color: rgb(136, 136, 136);
                    margin-top: 0.714rem;
                    padding-bottom: 0.143rem;
                    white-space: normal;
                }

                #write .footnote-line {
                    white-space: pre-wrap;
                }

                @media print {
                    body, html {
                        border: 1px solid transparent;
                        height: 99%;
                        break-after: avoid;
                        break-before: avoid;
                        font-variant-ligatures: no-common-ligatures;
                    }

                    #write {
                        margin-top: 0px;
                        padding-top: 0px;
                        border-color: transparent !important;
                    }

                    .typora-export * {
                        -webkit-print-color-adjust: exact;
                    }

                    .typora-export #write {
                        break-after: avoid;
                    }

                        .typora-export #write::after {
                            height: 0px;
                        }

                    .is-mac table {
                        break-inside: avoid;
                    }

                    .typora-export-show-outline .typora-export-sidebar {
                        display: none;
                    }
                }

                .footnote-line {
                    margin-top: 0.714em;
                    font-size: 0.7em;
                }

                a img, img a {
                    cursor: pointer;
                }

                pre.md-meta-block {
                    font-size: 0.8rem;
                    min-height: 0.8rem;
                    white-space: pre-wrap;
                    background: rgb(204, 204, 204);
                    display: block;
                    overflow-x: hidden;
                }

                p > .md-image:only-child:not(.md-img-error) img, p > img:only-child {
                    display: block;
                    margin: auto;
                }

                #write.first-line-indent p > .md-image:only-child:not(.md-img-error) img {
                    left: -2em;
                    position: relative;
                }

                p > .md-image:only-child {
                    display: inline-block;
                    width: 100%;
                }

                #write .MathJax_Display {
                    margin: 0.8em 0px 0px;
                }

                .md-math-block {
                    width: 100%;
                }

                    .md-math-block:not(:empty)::after {
                        display: none;
                    }

                .MathJax_ref {
                    fill: currentcolor;
                }

                [contenteditable="true"]:active, [contenteditable="true"]:focus, [contenteditable="false"]:active, [contenteditable="false"]:focus {
                    outline: 0px;
                    box-shadow: none;
                }

                .md-task-list-item {
                    position: relative;
                    list-style-type: none;
                }

                .task-list-item.md-task-list-item {
                    padding-left: 0px;
                }

                .md-task-list-item > input {
                    position: absolute;
                    top: 0px;
                    left: 0px;
                    margin-left: -1.2em;
                    margin-top: calc(1em - 10px);
                    border: none;
                }

                .math {
                    font-size: 1rem;
                }

                .md-toc {
                    min-height: 3.58rem;
                    position: relative;
                    font-size: 0.9rem;
                    border-radius: 10px;
                }

                .md-toc-content {
                    position: relative;
                    margin-left: 0px;
                }

                    .md-toc-content::after, .md-toc::after {
                        display: none;
                    }

                .md-toc-item {
                    display: block;
                    color: rgb(65, 131, 196);
                }

                    .md-toc-item a {
                        text-decoration: none;
                    }

                .md-toc-inner:hover {
                    text-decoration: underline;
                }

                .md-toc-inner {
                    display: inline-block;
                    cursor: pointer;
                }

                .md-toc-h1 .md-toc-inner {
                    margin-left: 0px;
                    font-weight: 700;
                }

                .md-toc-h2 .md-toc-inner {
                    margin-left: 2em;
                }

                .md-toc-h3 .md-toc-inner {
                    margin-left: 4em;
                }

                .md-toc-h4 .md-toc-inner {
                    margin-left: 6em;
                }

                .md-toc-h5 .md-toc-inner {
                    margin-left: 8em;
                }

                .md-toc-h6 .md-toc-inner {
                    margin-left: 10em;
                }

                @media screen and (max-width: 48em) {
                    .md-toc-h3 .md-toc-inner {
                        margin-left: 3.5em;
                    }

                    .md-toc-h4 .md-toc-inner {
                        margin-left: 5em;
                    }

                    .md-toc-h5 .md-toc-inner {
                        margin-left: 6.5em;
                    }

                    .md-toc-h6 .md-toc-inner {
                        margin-left: 8em;
                    }
                }

                a.md-toc-inner {
                    font-size: inherit;
                    font-style: inherit;
                    font-weight: inherit;
                    line-height: inherit;
                }

                .footnote-line a:not(.reversefootnote) {
                    color: inherit;
                }

                .md-attr {
                    display: none;
                }

                .md-fn-count::after {
                    content: ".";
                }

                code, pre, samp, tt {
                    font-family: var(--monospace);
                }

                kbd {
                    margin: 0px 0.1em;
                    padding: 0.1em 0.6em;
                    font-size: 0.8em;
                    color: rgb(36, 39, 41);
                    background: rgb(255, 255, 255);
                    border: 1px solid rgb(173, 179, 185);
                    border-radius: 3px;
                    box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset;
                    white-space: nowrap;
                    vertical-align: middle;
                }

                .md-comment {
                    color: rgb(162, 127, 3);
                    opacity: 0.8;
                    font-family: var(--monospace);
                }

                code {
                    text-align: left;
                    vertical-align: initial;
                }

                a.md-print-anchor {
                    white-space: pre !important;
                    border-width: initial !important;
                    border-style: none !important;
                    border-color: initial !important;
                    display: inline-block !important;
                    position: absolute !important;
                    width: 1px !important;
                    right: 0px !important;
                    outline: 0px !important;
                    background: 0px 0px !important;
                    text-decoration: initial !important;
                    text-shadow: initial !important;
                }

                .os-windows.monocolor-emoji .md-emoji {
                    font-family: "Segoe UI Symbol", sans-serif;
                }

                .md-diagram-panel > svg {
                    max-width: 100%;
                }

                [lang="flow"] svg, [lang="mermaid"] svg {
                    max-width: 100%;
                    height: auto;
                }

                [lang="mermaid"] .node text {
                    font-size: 1rem;
                }

                table tr th {
                    border-bottom: 0px;
                }

                video {
                    max-width: 100%;
                    display: block;
                    margin: 0px auto;
                }

                iframe {
                    max-width: 100%;
                    width: 100%;
                    border: none;
                }

                .highlight td, .highlight tr {
                    border: 0px;
                }

                mark {
                    background: rgb(255, 255, 0);
                    color: rgb(0, 0, 0);
                }

                    .md-html-inline .md-plain, .md-html-inline strong, mark .md-inline-math, mark strong {
                        color: inherit;
                    }

                .md-expand mark .md-meta {
                    opacity: 0.3 !important;
                }

                mark .md-meta {
                    color: rgb(0, 0, 0);
                }

                @media print {
                    .typora-export h1, .typora-export h2, .typora-export h3, .typora-export h4, .typora-export h5, .typora-export h6 {
                        break-inside: avoid;
                    }
                }

                .md-diagram-panel .messageText {
                    stroke: none !important;
                }

                .md-diagram-panel .start-state {
                    fill: var(--node-fill);
                }

                .md-diagram-panel .edgeLabel rect {
                    opacity: 1 !important;
                }

                .md-require-zoom-fix {
                    height: auto;
                    margin-top: 16px;
                    margin-bottom: 16px;
                }

                    .md-require-zoom-fix foreignobject {
                        font-size: var(--mermaid-font-zoom);
                    }

                .md-fences.md-fences-math {
                    font-size: 1em;
                }

                .md-fences-advanced:not(.md-focus) {
                    padding: 0px;
                    white-space: nowrap;
                    border: 0px;
                }

                .md-fences-advanced:not(.md-focus) {
                    background: inherit;
                }

                .typora-export-show-outline .typora-export-content {
                    max-width: 1440px;
                    margin: auto;
                    display: flex;
                    flex-direction: row;
                }

                .typora-export-sidebar {
                    width: 300px;
                    font-size: 0.8rem;
                    margin-top: 80px;
                    margin-right: 18px;
                }

                .typora-export-show-outline #write {
                    --webkit-flex: 2;
                    flex: 2 1 0%;
                }

                .typora-export-sidebar .outline-content {
                    position: fixed;
                    top: 0px;
                    max-height: 100%;
                    overflow: hidden auto;
                    padding-bottom: 30px;
                    padding-top: 60px;
                    width: 300px;
                }

                @media screen and (max-width: 1024px) {
                    .typora-export-sidebar, .typora-export-sidebar .outline-content {
                        width: 240px;
                    }
                }

                @media screen and (max-width: 800px) {
                    .typora-export-sidebar {
                        display: none;
                    }
                }

                .outline-content li, .outline-content ul {
                    margin-left: 0px;
                    margin-right: 0px;
                    padding-left: 0px;
                    padding-right: 0px;
                    list-style: none;
                }

                .outline-content ul {
                    margin-top: 0px;
                    margin-bottom: 0px;
                }

                .outline-content strong {
                    font-weight: 400;
                }

                .outline-expander {
                    width: 1rem;
                    height: 1.42857rem;
                    position: relative;
                    display: table-cell;
                    vertical-align: middle;
                    cursor: pointer;
                    padding-left: 4px;
                }

                    .outline-expander::before {
                        content: "";
                        position: relative;
                        font-family: Ionicons;
                        display: inline-block;
                        font-size: 8px;
                        vertical-align: middle;
                    }

                .outline-item {
                    padding-top: 3px;
                    padding-bottom: 3px;
                    cursor: pointer;
                }

                .outline-expander:hover::before {
                    content: "";
                }

                .outline-h1 > .outline-item {
                    padding-left: 0px;
                }

                .outline-h2 > .outline-item {
                    padding-left: 1em;
                }

                .outline-h3 > .outline-item {
                    padding-left: 2em;
                }

                .outline-h4 > .outline-item {
                    padding-left: 3em;
                }

                .outline-h5 > .outline-item {
                    padding-left: 4em;
                }

                .outline-h6 > .outline-item {
                    padding-left: 5em;
                }

                .outline-label {
                    cursor: pointer;
                    display: table-cell;
                    vertical-align: middle;
                    text-decoration: none;
                    color: inherit;
                }

                    .outline-label:hover {
                        text-decoration: underline;
                    }

                .outline-item:hover {
                    border-color: rgb(245, 245, 245);
                    background-color: var(--item-hover-bg-color);
                }

                .outline-item:hover {
                    margin-left: -28px;
                    margin-right: -28px;
                    border-left: 28px solid transparent;
                    border-right: 28px solid transparent;
                }

                .outline-item-single .outline-expander::before, .outline-item-single .outline-expander:hover::before {
                    display: none;
                }

                .outline-item-open > .outline-item > .outline-expander::before {
                    content: "";
                }

                .outline-children {
                    display: none;
                }

                .info-panel-tab-wrapper {
                    display: none;
                }

                .outline-item-open > .outline-children {
                    display: block;
                }

                .typora-export .outline-item {
                    padding-top: 1px;
                    padding-bottom: 1px;
                }

                    .typora-export .outline-item:hover {
                        margin-right: -8px;
                        border-right: 8px solid transparent;
                    }

                .typora-export .outline-expander::before {
                    content: "+";
                    font-family: inherit;
                    top: -1px;
                }

                .typora-export .outline-expander:hover::before, .typora-export .outline-item-open > .outline-item > .outline-expander::before {
                    content: "−";
                }

                .typora-export-collapse-outline .outline-children {
                    display: none;
                }

                .typora-export-collapse-outline .outline-item-open > .outline-children, .typora-export-no-collapse-outline .outline-children {
                    display: block;
                }

                .typora-export-no-collapse-outline .outline-expander::before {
                    content: "" !important;
                }

                .typora-export-show-outline .outline-item-active > .outline-item .outline-label {
                    font-weight: 700;
                }

                .md-inline-math-container mjx-container {
                    zoom: 0.95;
                }


                .CodeMirror {
                    height: auto;
                }

                    .CodeMirror.cm-s-inner {
                        background: inherit;
                    }

                .CodeMirror-scroll {
                    overflow: auto hidden;
                    z-index: 3;
                }

                .CodeMirror-gutter-filler, .CodeMirror-scrollbar-filler {
                    background-color: rgb(255, 255, 255);
                }

                .CodeMirror-gutters {
                    border-right: 1px solid rgb(221, 221, 221);
                    background: inherit;
                    white-space: nowrap;
                }

                .CodeMirror-linenumber {
                    padding: 0px 3px 0px 5px;
                    text-align: right;
                    color: rgb(153, 153, 153);
                }

                .cm-s-inner .cm-keyword {
                    color: rgb(119, 0, 136);
                }

                .cm-s-inner .cm-atom, .cm-s-inner.cm-atom {
                    color: rgb(34, 17, 153);
                }

                .cm-s-inner .cm-number {
                    color: rgb(17, 102, 68);
                }

                .cm-s-inner .cm-def {
                    color: rgb(0, 0, 255);
                }

                .cm-s-inner .cm-variable {
                    color: rgb(0, 0, 0);
                }

                .cm-s-inner .cm-variable-2 {
                    color: rgb(0, 85, 170);
                }

                .cm-s-inner .cm-variable-3 {
                    color: rgb(0, 136, 85);
                }

                .cm-s-inner .cm-string {
                    color: rgb(170, 17, 17);
                }

                .cm-s-inner .cm-property {
                    color: rgb(0, 0, 0);
                }

                .cm-s-inner .cm-operator {
                    color: rgb(152, 26, 26);
                }

                .cm-s-inner .cm-comment, .cm-s-inner.cm-comment {
                    color: rgb(170, 85, 0);
                }

                .cm-s-inner .cm-string-2 {
                    color: rgb(255, 85, 0);
                }

                .cm-s-inner .cm-meta {
                    color: rgb(85, 85, 85);
                }

                .cm-s-inner .cm-qualifier {
                    color: rgb(85, 85, 85);
                }

                .cm-s-inner .cm-builtin {
                    color: rgb(51, 0, 170);
                }

                .cm-s-inner .cm-bracket {
                    color: rgb(153, 153, 119);
                }

                .cm-s-inner .cm-tag {
                    color: rgb(17, 119, 0);
                }

                .cm-s-inner .cm-attribute {
                    color: rgb(0, 0, 204);
                }

                .cm-s-inner .cm-header, .cm-s-inner.cm-header {
                    color: rgb(0, 0, 255);
                }

                .cm-s-inner .cm-quote, .cm-s-inner.cm-quote {
                    color: rgb(0, 153, 0);
                }

                .cm-s-inner .cm-hr, .cm-s-inner.cm-hr {
                    color: rgb(153, 153, 153);
                }

                .cm-s-inner .cm-link, .cm-s-inner.cm-link {
                    color: rgb(0, 0, 204);
                }

                .cm-negative {
                    color: rgb(221, 68, 68);
                }

                .cm-positive {
                    color: rgb(34, 153, 34);
                }

                .cm-header, .cm-strong {
                    font-weight: 700;
                }

                .cm-del {
                    text-decoration: line-through;
                }

                .cm-em {
                    font-style: italic;
                }

                .cm-link {
                    text-decoration: underline;
                }

                .cm-error {
                    color: red;
                }

                .cm-invalidchar {
                    color: red;
                }

                .cm-constant {
                    color: rgb(38, 139, 210);
                }

                .cm-defined {
                    color: rgb(181, 137, 0);
                }

                div.CodeMirror span.CodeMirror-matchingbracket {
                    color: rgb(0, 255, 0);
                }

                div.CodeMirror span.CodeMirror-nonmatchingbracket {
                    color: rgb(255, 34, 34);
                }

                .cm-s-inner .CodeMirror-activeline-background {
                    background: inherit;
                }

                .CodeMirror {
                    position: relative;
                    overflow: hidden;
                }

                .CodeMirror-scroll {
                    height: 100%;
                    outline: 0px;
                    position: relative;
                    box-sizing: content-box;
                    background: inherit;
                }

                .CodeMirror-sizer {
                    position: relative;
                }

                .CodeMirror-gutter-filler, .CodeMirror-hscrollbar, .CodeMirror-scrollbar-filler, .CodeMirror-vscrollbar {
                    position: absolute;
                    z-index: 6;
                    display: none;
                    outline: 0px;
                }

                .CodeMirror-vscrollbar {
                    right: 0px;
                    top: 0px;
                    overflow: hidden;
                }

                .CodeMirror-hscrollbar {
                    bottom: 0px;
                    left: 0px;
                    overflow: auto hidden;
                }

                .CodeMirror-scrollbar-filler {
                    right: 0px;
                    bottom: 0px;
                }

                .CodeMirror-gutter-filler {
                    left: 0px;
                    bottom: 0px;
                }

                .CodeMirror-gutters {
                    position: absolute;
                    left: 0px;
                    top: 0px;
                    padding-bottom: 10px;
                    z-index: 3;
                    overflow-y: hidden;
                }

                .CodeMirror-gutter {
                    white-space: normal;
                    height: 100%;
                    box-sizing: content-box;
                    padding-bottom: 30px;
                    margin-bottom: -32px;
                    display: inline-block;
                }

                .CodeMirror-gutter-wrapper {
                    position: absolute;
                    z-index: 4;
                    background: 0px 0px !important;
                    border: none !important;
                }

                .CodeMirror-gutter-background {
                    position: absolute;
                    top: 0px;
                    bottom: 0px;
                    z-index: 4;
                }

                .CodeMirror-gutter-elt {
                    position: absolute;
                    cursor: default;
                    z-index: 4;
                }

                .CodeMirror-lines {
                    cursor: text;
                }

                .CodeMirror pre {
                    border-radius: 0px;
                    border-width: 0px;
                    background: 0px 0px;
                    font-family: inherit;
                    font-size: inherit;
                    margin: 0px;
                    white-space: pre;
                    overflow-wrap: normal;
                    color: inherit;
                    z-index: 2;
                    position: relative;
                    overflow: visible;
                }

                .CodeMirror-wrap pre {
                    overflow-wrap: break-word;
                    white-space: pre-wrap;
                    word-break: normal;
                }

                .CodeMirror-code pre {
                    border-right: 30px solid transparent;
                    width: fit-content;
                }

                .CodeMirror-wrap .CodeMirror-code pre {
                    border-right: none;
                    width: auto;
                }

                .CodeMirror-linebackground {
                    position: absolute;
                    inset: 0px;
                    z-index: 0;
                }

                .CodeMirror-linewidget {
                    position: relative;
                    z-index: 2;
                    overflow: auto;
                }

                .CodeMirror-wrap .CodeMirror-scroll {
                    overflow-x: hidden;
                }

                .CodeMirror-measure {
                    position: absolute;
                    width: 100%;
                    height: 0px;
                    overflow: hidden;
                    visibility: hidden;
                }

                    .CodeMirror-measure pre {
                        position: static;
                    }

                .CodeMirror div.CodeMirror-cursor {
                    position: absolute;
                    visibility: hidden;
                    border-right: none;
                    width: 0px;
                }

                .CodeMirror div.CodeMirror-cursor {
                    visibility: hidden;
                }

                .CodeMirror-focused div.CodeMirror-cursor {
                    visibility: inherit;
                }

                .cm-searching {
                    background: rgba(255, 255, 0, 0.4);
                }

                span.cm-underlined {
                    text-decoration: underline;
                }

                span.cm-strikethrough {
                    text-decoration: line-through;
                }

                .cm-tw-syntaxerror {
                    color: rgb(255, 255, 255);
                    background-color: rgb(153, 0, 0);
                }

                .cm-tw-deleted {
                    text-decoration: line-through;
                }

                .cm-tw-header5 {
                    font-weight: 700;
                }

                .cm-tw-listitem:first-child {
                    padding-left: 10px;
                }

                .cm-tw-box {
                    border-style: solid;
                    border-right-width: 1px;
                    border-bottom-width: 1px;
                    border-left-width: 1px;
                    border-color: inherit;
                    border-top-width: 0px !important;
                }

                .cm-tw-underline {
                    text-decoration: underline;
                }

                @media print {
                    .CodeMirror div.CodeMirror-cursor {
                        visibility: hidden;
                    }
                }


                :root {
                    --side-bar-bg-color: #fafafa;
                    --control-text-color: #777;
                }

                @include-when-export url(https://fonts.loli.net/css?family=Open+Sans:400italic,700italic,700,400&subset=latin,latin-ext);

                /* open-sans-regular - latin-ext_latin */
                /* open-sans-italic - latin-ext_latin */
                /* open-sans-700 - latin-ext_latin */
                /* open-sans-700italic - latin-ext_latin */
                html {
                    font-size: 16px;
                    -webkit-font-smoothing: antialiased;
                }

                body {
                    font-family: "Open Sans","Clear Sans", "Helvetica Neue", Helvetica, Arial, 'Segoe UI Emoji', sans-serif;
                    color: rgb(51, 51, 51);
                    line-height: 1.6;
                }

                #write {
                    max-width: 860px;
                    margin: 0 auto;
                    padding: 30px;
                    padding-bottom: 100px;
                }

                @media only screen and (min-width: 1400px) {
                    #write {
                        max-width: 1024px;
                    }
                }

                @media only screen and (min-width: 1800px) {
                    #write {
                        max-width: 1200px;
                    }
                }

                #write > ul:first-child,
                #write > ol:first-child {
                    margin-top: 30px;
                }

                a {
                    color: #4183C4;
                }

                h1,
                h2,
                h3,
                h4,
                h5,
                h6 {
                    position: relative;
                    margin-top: 1rem;
                    margin-bottom: 1rem;
                    font-weight: bold;
                    line-height: 1.4;
                    cursor: text;
                }

                    h1:hover a.anchor,
                    h2:hover a.anchor,
                    h3:hover a.anchor,
                    h4:hover a.anchor,
                    h5:hover a.anchor,
                    h6:hover a.anchor {
                        text-decoration: none;
                    }

                    h1 tt,
                    h1 code {
                        font-size: inherit;
                    }

                    h2 tt,
                    h2 code {
                        font-size: inherit;
                    }

                    h3 tt,
                    h3 code {
                        font-size: inherit;
                    }

                    h4 tt,
                    h4 code {
                        font-size: inherit;
                    }

                    h5 tt,
                    h5 code {
                        font-size: inherit;
                    }

                    h6 tt,
                    h6 code {
                        font-size: inherit;
                    }

                h1 {
                    font-size: 2.25em;
                    line-height: 1.2;
                    border-bottom: 1px solid #eee;
                }

                h2 {
                    font-size: 1.75em;
                    line-height: 1.225;
                    border-bottom: 1px solid #eee;
                }

                /*@media print {
            .typora-export h1,
            .typora-export h2 {
                border-bottom: none;
                padding-bottom: initial;
            }

            .typora-export h1::after,
            .typora-export h2::after {
                content: "";
                display: block;
                height: 100px;
                margin-top: -96px;
                border-top: 1px solid #eee;
            }
        }*/

                h3 {
                    font-size: 1.5em;
                    line-height: 1.43;
                }

                h4 {
                    font-size: 1.25em;
                }

                h5 {
                    font-size: 1em;
                }

                h6 {
                    font-size: 1em;
                    color: #777;
                }

                p,
                blockquote,
                ul,
                ol,
                dl,
                table {
                    margin: 0.8em 0;
                }

                li > ol,
                li > ul {
                    margin: 0 0;
                }

                hr {
                    height: 2px;
                    padding: 0;
                    margin: 16px 0;
                    background-color: #e7e7e7;
                    border: 0 none;
                    overflow: hidden;
                    box-sizing: content-box;
                }

                li p.first {
                    display: inline-block;
                }

                ul,
                ol {
                    padding-left: 30px;
                }

                    ul:first-child,
                    ol:first-child {
                        margin-top: 0;
                    }

                    ul:last-child,
                    ol:last-child {
                        margin-bottom: 0;
                    }

                blockquote {
                    border-left: 4px solid #dfe2e5;
                    padding: 0 15px;
                    color: #777777;
                }

                    blockquote blockquote {
                        padding-right: 0;
                    }

                table {
                    padding: 0;
                    word-break: initial;
                }

                    table tr {
                        border: 1px solid #dfe2e5;
                        margin: 0;
                        padding: 0;
                    }

                        table tr:nth-child(2n),
                        thead {
                            background-color: #f8f8f8;
                        }

                    table th {
                        font-weight: bold;
                        border: 1px solid #dfe2e5;
                        border-bottom: 0;
                        margin: 0;
                        padding: 6px 13px;
                    }

                    table td {
                        border: 1px solid #dfe2e5;
                        margin: 0;
                        padding: 6px 13px;
                    }

                        table th:first-child,
                        table td:first-child {
                            margin-top: 0;
                        }

                        table th:last-child,
                        table td:last-child {
                            margin-bottom: 0;
                        }

                .CodeMirror-lines {
                    padding-left: 4px;
                }

                .code-tooltip {
                    box-shadow: 0 1px 1px 0 rgba(0,28,36,.3);
                    border-top: 1px solid #eef2f2;
                }

                .md-fences,
                code,
                tt {
                    border: 1px solid #e7eaed;
                    background-color: #f8f8f8;
                    border-radius: 3px;
                    padding: 0;
                    padding: 2px 4px 0px 4px;
                    font-size: 0.9em;
                }

                code {
                    background-color: #f3f4f4;
                    padding: 0 2px 0 2px;
                }

                .md-fences {
                    margin-bottom: 15px;
                    margin-top: 15px;
                    padding-top: 8px;
                    padding-bottom: 6px;
                }


                .md-task-list-item > input {
                    margin-left: -1.3em;
                }

                @media print {
                    html {
                        font-size: 13px;
                    }

                    table,
                    pre {
                        page-break-inside: avoid;
                    }

                    pre {
                        word-wrap: break-word;
                    }
                }

                .md-fences {
                    background-color: #f8f8f8;
                }

                #write pre.md-meta-block {
                    padding: 1rem;
                    font-size: 85%;
                    line-height: 1.45;
                    background-color: #f7f7f7;
                    border: 0;
                    border-radius: 3px;
                    color: #777777;
                    margin-top: 0 !important;
                }

                .mathjax-block > .code-tooltip {
                    bottom: .375rem;
                }

                .md-mathjax-midline {
                    background: #fafafa;
                }

                #write > h3.md-focus:before {
                    left: -1.5625rem;
                    top: .375rem;
                }

                #write > h4.md-focus:before {
                    left: -1.5625rem;
                    top: .285714286rem;
                }

                #write > h5.md-focus:before {
                    left: -1.5625rem;
                    top: .285714286rem;
                }

                #write > h6.md-focus:before {
                    left: -1.5625rem;
                    top: .285714286rem;
                }

                .md-image > .md-meta {
                    /*border: 1px solid #ddd;*/
                    border-radius: 3px;
                    padding: 2px 0px 0px 4px;
                    font-size: 0.9em;
                    color: inherit;
                }

                .md-tag {
                    color: #a7a7a7;
                    opacity: 1;
                }

                .md-toc {
                    margin-top: 20px;
                    padding-bottom: 20px;
                }

                .sidebar-tabs {
                    border-bottom: none;
                }

                #typora-quick-open {
                    border: 1px solid #ddd;
                    background-color: #f8f8f8;
                }

                #typora-quick-open-item {
                    background-color: #FAFAFA;
                    border-color: #FEFEFE #e5e5e5 #e5e5e5 #eee;
                    border-style: solid;
                    border-width: 1px;
                }

                /** focus mode */
                .on-focus-mode blockquote {
                    border-left-color: rgba(85, 85, 85, 0.12);
                }

                header, .context-menu, .megamenu-content, footer {
                    font-family: "Segoe UI", "Arial", sans-serif;
                }

                .file-node-content:hover .file-node-icon,
                .file-node-content:hover .file-node-open-state {
                    visibility: visible;
                }

                .mac-seamless-mode #typora-sidebar {
                    background-color: #fafafa;
                    background-color: var(--side-bar-bg-color);
                }

                .md-lang {
                    color: #b4654d;
                }

                /*.html-for-mac {
            --item-hover-bg-color: #E6F0FE;
        }*/

                #md-notification .btn {
                    border: 0;
                }

                .dropdown-menu .divider {
                    border-color: #e5e5e5;
                    opacity: 0.4;
                }

                .ty-preferences .window-content {
                    background-color: #fafafa;
                }

                .ty-preferences .nav-group-item.active {
                    color: white;
                    background: #999;
                }

                .menu-item-container a.menu-style-btn {
                    background-color: #f5f8fa;
                    background-image: linear-gradient( 180deg, hsla(0, 0%, 100%, 0.8), hsla(0, 0%, 100%, 0));
                }



                mjx-container[jax="SVG"] {
                    direction: ltr;
                }

                    mjx-container[jax="SVG"] > svg {
                        overflow: visible;
                        min-height: 1px;
                        min-width: 1px;
                    }

                        mjx-container[jax="SVG"] > svg a {
                            fill: blue;
                            stroke: blue;
                        }

                mjx-assistive-mml {
                    position: absolute !important;
                    top: 0px;
                    left: 0px;
                    clip: rect(1px, 1px, 1px, 1px);
                    padding: 1px 0px 0px 0px !important;
                    border: 0px !important;
                    display: block !important;
                    width: auto !important;
                    overflow: hidden !important;
                    -webkit-touch-callout: none;
                    -webkit-user-select: none;
                    -khtml-user-select: none;
                    -moz-user-select: none;
                    -ms-user-select: none;
                    user-select: none;
                }

                    mjx-assistive-mml[display="block"] {
                        width: 100% !important;
                    }

                mjx-container[jax="SVG"][display="true"] {
                    display: block;
                    text-align: center;
                    margin: 1em 0;
                }

                    mjx-container[jax="SVG"][display="true"][width="full"] {
                        display: flex;
                    }

                mjx-container[jax="SVG"][justify="left"] {
                    text-align: left;
                }

                mjx-container[jax="SVG"][justify="right"] {
                    text-align: right;
                }

                g[data-mml-node="merror"] > g {
                    fill: red;
                    stroke: red;
                }

                g[data-mml-node="merror"] > rect[data-background] {
                    fill: yellow;
                    stroke: none;
                }

                g[data-mml-node="mtable"] > line[data-line], svg[data-table] > g > line[data-line] {
                    stroke-width: 70px;
                    fill: none;
                }

                g[data-mml-node="mtable"] > rect[data-frame], svg[data-table] > g > rect[data-frame] {
                    stroke-width: 70px;
                    fill: none;
                }

                g[data-mml-node="mtable"] > .mjx-dashed, svg[data-table] > g > .mjx-dashed {
                    stroke-dasharray: 140;
                }

                g[data-mml-node="mtable"] > .mjx-dotted, svg[data-table] > g > .mjx-dotted {
                    stroke-linecap: round;
                    stroke-dasharray: 0,140;
                }

                g[data-mml-node="mtable"] > g > svg {
                    overflow: visible;
                }

                [jax="SVG"] mjx-tool {
                    display: inline-block;
                    position: relative;
                    width: 0;
                    height: 0;
                }

                    [jax="SVG"] mjx-tool > mjx-tip {
                        position: absolute;
                        top: 0;
                        left: 0;
                    }

                mjx-tool > mjx-tip {
                    display: inline-block;
                    padding: .2em;
                    border: 1px solid #888;
                    font-size: 70%;
                    background-color: #F8F8F8;
                    color: black;
                    box-shadow: 2px 2px 5px #AAAAAA;
                }

                g[data-mml-node="maction"][data-toggle] {
                    cursor: pointer;
                }

                mjx-status {
                    display: block;
                    position: fixed;
                    left: 1em;
                    bottom: 1em;
                    min-width: 25%;
                    padding: .2em .4em;
                    border: 1px solid #888;
                    font-size: 90%;
                    background-color: #F8F8F8;
                    color: black;
                }

                foreignObject[data-mjx-xml] {
                    font-family: initial;
                    line-height: normal;
                    overflow: visible;
                }

                mjx-container[jax="SVG"] path[data-c], mjx-container[jax="SVG"] use[data-c] {
                    stroke-width: 3;
                }

                g[data-mml-node="xypic"] path {
                    stroke-width: inherit;
                }

                .MathJax g[data-mml-node="xypic"] path {
                    stroke-width: inherit;
                }
    </style>
    <title>ANSYS 中整体刚度矩阵的输出（一）：子结构分析</title>
</head>
<body class='typora-export os-windows'>
    <div class='typora-export-content'>
        <div id='write' class=''>
            <h1 id='ansys-中整体刚度矩阵的输出一）子结构分析'><span>ANSYS 中整体刚度矩阵的输出（一）：子结构分析</span></h1><hr /><p><em><span>最近思考导出ANSYS模型结构整体刚度矩阵，以验证自编程序之正确性。因阅读众多网络教程，结合ANSYS之文档，终于实现，遂成总结一篇以备忘。文中所涉，亦有少见于网络者。为求精准，语多繁冗，姑置之不论。</span></em></p><hr /><p><span>ANSYS是目前应用最广泛的商业有限元程序之一，在学术研究中也经常出现。</span></p><p><span>一般而言，无论是经典的 ANSYS Mechanical APDL 还是后起的ANSYS Workbench，都可以完成几何建模、网格划分、模型求解和后处理等整套的有限元分析。在这种情况下，一般不会直接触及模型的刚度矩阵、质量矩阵等。但是，当需要开发新的算法，或者进行模型验证时，获得结构的整体刚度矩阵、质量矩阵以及阻尼矩阵就成为绕不开的需求。</span></p><p><span>相比于另外一款广泛使用的商业有限元程序Abaqus，采用ANSYS进行模型验证通常更加方便。一个最重要的原因在于ANSYS允许直接定义有限元模型，即首先采用</span><code>N</code><span>命令定义节点，再采用</span><code>E</code><span>命令由节点直接定义单元。对于复杂模型，这种建模方式自然是不甚适用。然而，在多数涉及算法开发的场景下，所面对的模型通常较为简单。此时，这种建模方式可以较为直接的控制节点和单元编号，可以给模型及算法的验证带来不少方便。相比之下，Abaqus CAE仅允许首先几何建模再划分网格。因此，要想控制模型中节点和单元的编号，只能修改Input文件。Abaqus Input文件具有非常严格的格式，灵活性上自然是比ANSYS APDL差了不少。</span></p><p><span>ANSYS中整体刚度矩阵的导出有若干不同的方法，本文介绍的是子结构（sub-structure）分析或者说是超单元（super-element）的方法。笔者未曾深入研究相关的技术细节，这里仅探讨刚度矩阵的导出。概言之，该方法将整个模型定义为一个超单元，并将超单元的刚度矩阵输出，这样就得到了整个模型的刚度矩阵。</span></p><p><span>第一步自然是进行模型的定义。这一步与正常的结构分析无异，先建立几何模型再划分网格或者直接建立有限元模型均可，一切以方便高效为要。模型建立完成后，可进入子结构分析步，指定子结构，并导出刚度矩阵，需要的APDL命令大致如下：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">!略去模型定义</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">!子结构分析</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/SOLU</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">/OUTPUT, 'Substructure_mat', dat</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">ANTYPE,SUBSTR</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">SEOPT, 'Substructure', 2</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">NSEL, ALL</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">M, ALL, ALL</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">SOLVE</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">SELIST, 'Substructure', 3</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">FINISH</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 253px;"></div><div class="CodeMirror-gutters" style="display: none; height: 253px;"></div></div></div></pre><p><span>第三行</span><code>/SOLU</code><span>，进入求解器。第四行</span><code>/OUTPUT, &#39;Substructure_mat&#39;, dat</code><span>指定输出文件名及后缀。输出文件名较为任意，并不会对结果产生影响。至于后缀，“.txt”“.dat”“.lis”“.out”之类也并无区别，最终得到的文件均为ASCII码文本文件。第五行</span><code>ANTYPE, SUBSTR</code><span>也可替换为</span><code>ANTYPE, 7</code><span>，用于指定分析类型为子结构分析。第六行</span><code>SEOPT, ‘Substructure’, 2</code><span>作用是指定子结构分析选项。其中，第一个参数“Substructure”为文件名，其设定仍然是随意的；第二个参数“2”表明同时生成刚度矩阵和质量矩阵，若设定为“1”，则仅生成刚度矩阵。子结构分析完成后，将生成名为“Substructure.sub”的二进制文件，其中包含指定子结构的信息。第七行</span><code>NSEL, ALL</code><span>选中模型中所有节点。第八行</span><code>M, ALL, ALL</code><span>指定所有节点为主节点。第九行</span><code>SOLVE</code><span>进行求解，即进行子结构分析。第十行</span><code>SELIST, &#39;Substructure&#39;, 3</code><span>列出子结构信息。其中，第一个参数“Substructure”用于指定已生成的子结构名称，</span><strong><span>需与第四行文件名保持一致</span></strong><span>；第二个参数“3”表示列出矩阵的全部内容。由于该命令会列出所有矩阵元素（包括零元素），当模型很大时，产生的文件体积也会很大。注意到第二行已经指定输出文件名，所有的刚度和质量矩阵内容会保存到相应的文件中。第十一行</span><code>FINISH</code><span>结束子结构分析。</span></p><p><span>完整运行APDL命令流，刚度矩阵与质量矩阵已经保存到名为“Substructure_mat.dat”的文件中。但是，打开文件，里面的模型信息眼花缭乱。一般情况下，文件中除去刚度矩阵和质量矩阵的信息外，还有外荷载、节点坐标、自由度编号、自由度顺序等信息。因此，最后一步是将文件中有用的信息提取出来。</span></p><p><span>不出意外，文件中将出现以下一系列警告信息：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> !略去以上警告信息</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> *** WARNING *** &nbsp; SUPPRESSED MESSAGE &nbsp;  CP = &nbsp; &nbsp; &nbsp; 3.016 &nbsp; TIME= 16:31:42</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> Node 156 UY master is superseded by a specified constraint. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> *** WARNING *** &nbsp; SUPPRESSED MESSAGE &nbsp;  CP = &nbsp; &nbsp; &nbsp; 3.016 &nbsp; TIME= 16:31:42</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> Node 156 ROTZ master is superseded by a specified constraint. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> *** WARNING *** &nbsp; SUPPRESSED MESSAGE &nbsp;  CP = &nbsp; &nbsp; &nbsp; 3.016 &nbsp; TIME= 16:31:42</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> All degrees of freedom are selected as MASTER degrees of freedom.  No &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> numerical reduction is occurring.  Check your model carefully. &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> *** WARNING *** &nbsp; SUPPRESSED MESSAGE &nbsp;  CP = &nbsp; &nbsp; &nbsp; 3.031 &nbsp; TIME= 16:31:42</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> No numerical reduction has occurred.  Therefore, no Boeing &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> triangularized matrix file exists for the backsubstitution method &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> during any subsequent expansion pass(es).  Only the full re-solve &nbsp; &nbsp; &nbsp; </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> method can be used to expand the results for this superelement. &nbsp;</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 391px;"></div><div class="CodeMirror-gutters" style="display: none; height: 391px;"></div></div></div></pre><p><span>事实上，产生这些警告信息应属正常。首先，前两条警告信息是由于模型中施加了边界条件，</span><strong><span>最终导出的矩阵中相应的自由度就会被消除</span></strong><span>。然后，后两条警告则是由于指定了模型中所有节点为主节点，子结构分析自然不会产生数值意义上的缩减。总之，以上类型的警告信息可以直接忽略，至于其他类型，则需具体分析之。</span></p><p><span>除了警告信息，还可以看到：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; NODE &nbsp; &nbsp; X &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Y &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Z &nbsp; &nbsp; &nbsp;  THXY &nbsp; &nbsp; &nbsp;  THYZ &nbsp; &nbsp; &nbsp;  THXZ</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  2  0.0000 &nbsp; &nbsp;  4.5720 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  3  0.0000 &nbsp; &nbsp;  9.1440 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  4  0.0000 &nbsp; &nbsp;  13.716 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  5  0.0000 &nbsp; &nbsp;  18.288 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  6  0.0000 &nbsp; &nbsp;  22.860 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  7  0.0000 &nbsp; &nbsp;  27.432 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;  0.0000 &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">!略去以下节点坐标</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 184px;"></div><div class="CodeMirror-gutters" style="display: none; height: 184px;"></div></div></div></pre><p><span>这部分列出的是节点编号及其坐标。</span></p><p><span>文件的最后部分即所关系的刚度和质量矩阵：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">! &nbsp; ......</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> ROW &nbsp; &nbsp; 6 MATRIX &nbsp; &nbsp; 2</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  128.93660 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp;  -139.38733 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 393.11750 &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  827.08805 &nbsp; &nbsp;  -128.93660 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp;  -139.38733 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">! &nbsp; ......</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">  ROW &nbsp; &nbsp; 7 MATRIX &nbsp; &nbsp; 1</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp;  -43901235. &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; 0.10035822E+09  0.18871385E+10 &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp;  -43901235. &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  0.0000000 &nbsp; &nbsp; -0.10035822E+09 &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 &nbsp; &nbsp; &nbsp; 0.0000000 </span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">! &nbsp; ......</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 483px;"></div><div class="CodeMirror-gutters" style="display: none; height: 483px;"></div></div></div></pre><p><span>可以看到，文件中逐行列出了刚度和质量矩阵的元素。“ROW      6”即表示矩阵第6行的数据，“MATRIX      1”表示刚度矩阵，而“MATRIX      2”则表示质量矩阵。读取这些数据，并进行逐行拼装，最终可得到所需的整体刚度矩阵和整体质量矩阵。</span></p><p><span>当模型自由度数量很多时，刚度矩阵规模会很大。为了降低有限元程序的内存消耗并提高求解效率，ANSYS等商业软件会采用稀疏矩阵的方式存储刚度和质量矩阵。矩阵带宽越小，则存储该矩阵需要的空间也越小。因此，ANSYS一般会对自由度进行重新排序以降低矩阵带宽。子结构分析生成的文件中往往也会包含优化后的自由度顺序：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang=""><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang=""><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> REORDERED DOF POSITIONS =</span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  1 &nbsp; &nbsp; 2 &nbsp; &nbsp; 3 &nbsp;  91 &nbsp;  92 &nbsp;  93 &nbsp; 181 &nbsp; 182 &nbsp; 183 &nbsp; 271</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  272 &nbsp; 273 &nbsp; 361 &nbsp; 362 &nbsp; 363 &nbsp; 451 &nbsp; 452 &nbsp; 453 &nbsp; &nbsp; 4 &nbsp; &nbsp; 5</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;  6 &nbsp;  94 &nbsp;  95 &nbsp;  96 &nbsp; 184 &nbsp; 185 &nbsp; 186 &nbsp; 274 &nbsp; 275 &nbsp; 276</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  364 &nbsp; 365 &nbsp; 366 &nbsp; 454 &nbsp; 455 &nbsp; 456 &nbsp; &nbsp; 7 &nbsp; &nbsp; 8 &nbsp; &nbsp; 9 &nbsp;  97</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; 98 &nbsp;  99 &nbsp; 187 &nbsp; 188 &nbsp; 189 &nbsp; 277 &nbsp; 278 &nbsp; 279 &nbsp; 367 &nbsp; 368</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  369 &nbsp; 457 &nbsp; 458 &nbsp; 459 &nbsp;  10 &nbsp;  11 &nbsp;  12 &nbsp; 100 &nbsp; 101 &nbsp; 102</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp;  190 &nbsp; 191 &nbsp; 192 &nbsp; 280 &nbsp; 281 &nbsp; 282 &nbsp; 370 &nbsp; 371 &nbsp; 372 &nbsp; 460</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;">! &nbsp; ......</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 207px;"></div><div class="CodeMirror-gutters" style="display: none; height: 207px;"></div></div></div></pre><p><span>需要注意的是，</span><strong><span>采用子结构分析方法导出的刚度矩阵和质量矩阵是按照原始的自由度顺序排布的，未经带宽优化的矩阵</span></strong><span>。若按照这里给出的顺序进行重新排序，得到的矩阵则与后面将提到的</span><code>HBMAT</code><span>命令导出的矩阵一致。</span></p><p><span>当文件中数据较多时，可以根据文件特征编写程序，如MATLAB或Python脚本等，进行数据提取。这就属于单纯技巧性的内容了，故不赘述，下面直接附上Python代码：</span></p><pre class="md-fences md-end-block ty-contain-cm modeLoaded" spellcheck="false" lang="python" style="break-inside: unset;"><div class="CodeMirror cm-s-inner cm-s-null-scroll CodeMirror-wrap" lang="python"><div style="overflow: hidden; position: relative; width: 3px; height: 0px; top: 9.5px; left: 8px;"><textarea autocorrect="off" autocapitalize="off" spellcheck="false" tabindex="0" style="position: absolute; bottom: -1em; padding: 0px; width: 1000px; height: 1em; outline: none;"></textarea></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer" style="margin-left: 0px; margin-bottom: 0px; border-right-width: 0px; padding-right: 0px; padding-bottom: 0px;"><div style="position: relative; top: 0px;"><div class="CodeMirror-lines" role="presentation"><div role="presentation" style="position: relative; outline: none;"><div class="CodeMirror-measure"><pre><span>xxxxxxxxxx</span></pre></div><div class="CodeMirror-measure"></div><div style="position: relative; z-index: 1;"></div><div class="CodeMirror-code" role="presentation" style=""><div class="CodeMirror-activeline" style="position: relative;"><div class="CodeMirror-activeline-background CodeMirror-linebackground"></div><div class="CodeMirror-gutter-background CodeMirror-activeline-gutter" style="left: 0px; width: 0px;"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#name of the file generated by Anays substructure analysis ('/antype,7' or '/antype,substr')</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">substructure_output</span> = <span class="cm-string">'./Substructure_mat.dat'</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">#reorder of the degrees of freedom or not</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-variable">reorder</span> = <span class="cm-number">0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">##########################################################################################</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># A sub-function testing whether a string is a numeric value string</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">##########################################################################################</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">def</span> <span class="cm-def">is_number</span>(<span class="cm-variable">num</span>):</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">try</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-builtin">float</span>(<span class="cm-variable">num</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-keyword">True</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">except</span> <span class="cm-variable">ValueError</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">pass</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">try</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">import</span> <span class="cm-variable">unicodedata</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-variable">unicodedata</span>.<span class="cm-property">numeric</span>(<span class="cm-variable">num</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-keyword">True</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">except</span> (<span class="cm-variable">TypeError</span>, <span class="cm-variable">ValueError</span>):</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp; &nbsp; &nbsp;<span class="cm-keyword">pass</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"> &nbsp; &nbsp;<span class="cm-keyword">return</span> <span class="cm-keyword">False</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">##########################################################################################</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># A sub-function testing whether a string is a numeric value string</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># by Yang, Jiashu</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># 2021-08-08, at at Insititute for Risk and Reliability, Leibniz University Hannover</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment"># Email: jiashuyang@tongji.edu.cn</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">##########################################################################################</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">def</span> <span class="cm-def">ansys_substructure_matrix_reader</span>(<span class="cm-variable">substructure_output</span>, <span class="cm-variable">reorder</span>):</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">import</span> <span class="cm-variable">re</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">import</span> <span class="cm-variable">numpy</span> <span class="cm-keyword">as</span> <span class="cm-variable">np</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">from</span> <span class="cm-variable">numpy</span>.<span class="cm-property">core</span>.<span class="cm-property">defchararray</span> <span class="cm-keyword">import</span> <span class="cm-variable">isdigit</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#-----------------------------------------------------------------</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#open the file generated by Ansys substructure analysis</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#-----------------------------------------------------------------</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">with</span> <span class="cm-builtin">open</span>(<span class="cm-variable">substructure_output</span>, <span class="cm-string">'r'</span>) <span class="cm-keyword">as</span> <span class="cm-variable">subslis</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">subs_context</span> = <span class="cm-variable">subslis</span>.<span class="cm-property">readlines</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">nlines</span> = <span class="cm-builtin">len</span>(<span class="cm-variable">subs_context</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#-----------------------------------------------------------------</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#find indicator of optimized DOF order</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#-----------------------------------------------------------------</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">orderflag</span> = <span class="cm-number">0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">order_str</span> = []</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> <span class="cm-variable">line0</span> <span class="cm-keyword">in</span> <span class="cm-variable">subs_context</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">line0</span> = <span class="cm-variable">line0</span>.<span class="cm-property">strip</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-variable">orderflag</span> == <span class="cm-number">1</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-builtin">len</span>(<span class="cm-variable">line0</span>) == <span class="cm-number">0</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">break</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">line0_list</span> = <span class="cm-variable">line0</span>.<span class="cm-property">split</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> <span class="cm-variable">entry</span> <span class="cm-keyword">in</span> <span class="cm-variable">line0_list</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-keyword">not</span> <span class="cm-variable">entry</span>.<span class="cm-property">isdigit</span>():</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">print</span>(<span class="cm-string">'ERROR: Not every element is a integer value string!'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">break</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">order_str</span>.<span class="cm-property">extend</span>(<span class="cm-variable">line0_list</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> (<span class="cm-variable">orderflag</span> == <span class="cm-number">0</span>) <span class="cm-keyword">and</span> (<span class="cm-variable">line0</span>.<span class="cm-property">find</span>(<span class="cm-string">'REORDERED DOF POSITIONS'</span>) <span class="cm-operator">!</span>= <span class="cm-operator">-</span><span class="cm-number">1</span>):</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#strat of order value</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">orderflag</span>  = <span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">nDOF</span> &nbsp; &nbsp;  = <span class="cm-builtin">len</span>(<span class="cm-variable">order_str</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">orderlist</span> = [<span class="cm-builtin">int</span>(<span class="cm-variable">x</span>)<span class="cm-operator">-</span><span class="cm-number">1</span> <span class="cm-keyword">for</span> <span class="cm-variable">x</span> <span class="cm-keyword">in</span> <span class="cm-variable">order_str</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#-----------------------------------------------------------------</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#ind indicator of matrices</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#-----------------------------------------------------------------</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">ii</span> = <span class="cm-operator">-</span><span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">slist</span> = []</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">mlist</span> = []</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">llist</span> = []</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> <span class="cm-variable">line1</span> <span class="cm-keyword">in</span> <span class="cm-variable">subs_context</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">ii</span> &nbsp; &nbsp; &nbsp; &nbsp; = <span class="cm-variable">ii</span> <span class="cm-operator">+</span> <span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">line1</span> &nbsp; &nbsp;  = <span class="cm-variable">line1</span>.<span class="cm-property">strip</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">line1_list</span> = <span class="cm-variable">line1</span>.<span class="cm-property">split</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">len_line1</span>  = <span class="cm-builtin">len</span>(<span class="cm-variable">line1_list</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#record the index of the line</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> (<span class="cm-variable">len_line1</span> <span class="cm-operator">!</span>= <span class="cm-number">0</span>) <span class="cm-keyword">and</span> (<span class="cm-variable">line1_list</span>[<span class="cm-number">0</span>] == <span class="cm-string">'ROW'</span>):</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment"># if the last element of 'line1_list' is 1, the following data is a row of stiffness matrix</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment"># if the last element of 'line1_list' is 2, the following data is a row of mass matrix &nbsp;</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">indicator</span> = <span class="cm-builtin">int</span>(<span class="cm-variable">line1_list</span>[<span class="cm-operator">-</span><span class="cm-number">1</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> &nbsp;<span class="cm-variable">indicator</span> == <span class="cm-number">1</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#stiffness</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-builtin">int</span>(<span class="cm-variable">line1_list</span>[<span class="cm-number">1</span>]) <span class="cm-operator">!</span>= <span class="cm-builtin">len</span>(<span class="cm-variable">slist</span>)<span class="cm-operator">+</span><span class="cm-number">1</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">print</span>(<span class="cm-string">'WARNING: A incompatiblility occurs in the row number. Please check carefully.'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">slist</span>.<span class="cm-property">append</span>(<span class="cm-variable">ii</span><span class="cm-operator">+</span><span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">elif</span> <span class="cm-variable">indicator</span> == <span class="cm-number">2</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#mass</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-builtin">int</span>(<span class="cm-variable">line1_list</span>[<span class="cm-number">1</span>]) <span class="cm-operator">!</span>= <span class="cm-builtin">len</span>(<span class="cm-variable">mlist</span>)<span class="cm-operator">+</span><span class="cm-number">1</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">print</span>(<span class="cm-string">'WARNING: A incompatiblility occurs in the row number. Please check carefully.'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">mlist</span>.<span class="cm-property">append</span>(<span class="cm-variable">ii</span><span class="cm-operator">+</span><span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">elif</span> (<span class="cm-variable">len_line1</span> <span class="cm-operator">!</span>= <span class="cm-number">0</span>) <span class="cm-keyword">and</span> (<span class="cm-variable">line1</span>.<span class="cm-property">find</span>(<span class="cm-string">'LOAD VECTOR'</span>) == <span class="cm-number">0</span>):</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">llist</span>.<span class="cm-property">append</span>(<span class="cm-variable">ii</span><span class="cm-operator">+</span><span class="cm-number">1</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">nrowm</span> = <span class="cm-builtin">len</span>(<span class="cm-variable">mlist</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">nrows</span> = <span class="cm-builtin">len</span>(<span class="cm-variable">slist</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> (<span class="cm-variable">nrows</span> <span class="cm-operator">!</span>= <span class="cm-variable">nrowm</span>) <span class="cm-keyword">or</span> (<span class="cm-variable">nDOF</span> <span class="cm-operator">!</span>= <span class="cm-variable">nrows</span>):</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">print</span>(<span class="cm-string">'ERROR: please check the number of rows of stiffness and mass matrices!\n'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#-----------------------------------------------------------------</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#read and write stiffness matrix</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#-----------------------------------------------------------------</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#! The obtained matrix has been reordered by Ansys</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#initialize a 2D array for stiffness matrix</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">stiffness_mat</span> = <span class="cm-variable">np</span>.<span class="cm-property">zeros</span>([<span class="cm-variable">nrows</span>, <span class="cm-variable">nrows</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">rowind</span> &nbsp; &nbsp; &nbsp;  = <span class="cm-operator">-</span><span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> <span class="cm-variable">rowloc</span> <span class="cm-keyword">in</span> <span class="cm-variable">slist</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">rowind</span> &nbsp; = <span class="cm-variable">rowind</span> <span class="cm-operator">+</span> <span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#read a row of stiffness matrix</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">stiffrow</span> = []</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> <span class="cm-variable">ind</span> <span class="cm-keyword">in</span> <span class="cm-builtin">range</span>(<span class="cm-variable">rowloc</span>, <span class="cm-variable">nlines</span>):</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#remove additional space strings</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">stiffrow0</span> = <span class="cm-variable">subs_context</span>[<span class="cm-variable">ind</span>].<span class="cm-property">strip</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#split strings separated by blank</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">stiffrow0</span> = <span class="cm-variable">stiffrow0</span>.<span class="cm-property">split</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-builtin">len</span>(<span class="cm-variable">stiffrow0</span>) == <span class="cm-number">0</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#each row of the matrix is ended with a blank row</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">numflag</span> = <span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#each string should be a numeric value in string format</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> <span class="cm-variable">ele</span> <span class="cm-keyword">in</span> <span class="cm-variable">stiffrow0</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-keyword">not</span> <span class="cm-variable">is_number</span>(<span class="cm-variable">ele</span>):</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">numflag</span> = <span class="cm-number">0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">break</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-variable">numflag</span> == <span class="cm-number">1</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">stiffrow</span>.<span class="cm-property">extend</span>(<span class="cm-variable">stiffrow0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#number of elements in this matrix row</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">ncols</span> = <span class="cm-builtin">len</span>(<span class="cm-variable">stiffrow</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-variable">ncols</span> <span class="cm-operator">!</span>= <span class="cm-variable">nrows</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">print</span>(<span class="cm-string">'ERROR: The number of columns do not equals to the number of rows of stiffness matrix!'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">colind</span> = <span class="cm-operator">-</span><span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> <span class="cm-variable">entry</span> <span class="cm-keyword">in</span> <span class="cm-variable">stiffrow</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">colind</span> = <span class="cm-variable">colind</span> <span class="cm-operator">+</span> <span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">stiffness_mat</span>[<span class="cm-variable">rowind</span>, <span class="cm-variable">colind</span>] = <span class="cm-builtin">float</span>(<span class="cm-variable">entry</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#-----------------------------------------------------------------</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#read and write mass matrix</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#-----------------------------------------------------------------</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#! The obtained matrix has been reordered by Ansys</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#initialize a 2D array for stiffness matrix</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">mass_mat</span> &nbsp;  = <span class="cm-variable">np</span>.<span class="cm-property">zeros</span>([<span class="cm-variable">nrowm</span>, <span class="cm-variable">nrowm</span>])</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">rowind</span> &nbsp; &nbsp;  = <span class="cm-operator">-</span><span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> <span class="cm-variable">rowloc</span> <span class="cm-keyword">in</span> <span class="cm-variable">mlist</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">rowind</span>  = <span class="cm-variable">rowind</span> <span class="cm-operator">+</span> <span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#read a row of mass matrix</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">massrow</span> = []</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> <span class="cm-variable">ind</span> <span class="cm-keyword">in</span> <span class="cm-builtin">range</span>(<span class="cm-variable">rowloc</span>, <span class="cm-variable">nlines</span>):</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#remove additional space strings</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">massrow0</span> = <span class="cm-variable">subs_context</span>[<span class="cm-variable">ind</span>].<span class="cm-property">strip</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#split strings separated by blank</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">massrow0</span> = <span class="cm-variable">massrow0</span>.<span class="cm-property">split</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-builtin">len</span>(<span class="cm-variable">massrow0</span>) == <span class="cm-number">0</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#each row of the matrix is ended with a blank row</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">numflag</span> = <span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#each string should be a numeric value in string format</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> <span class="cm-variable">ele</span> <span class="cm-keyword">in</span> <span class="cm-variable">massrow0</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-keyword">not</span> <span class="cm-variable">is_number</span>(<span class="cm-variable">ele</span>):</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">numflag</span> = <span class="cm-number">0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">break</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-variable">numflag</span> == <span class="cm-number">1</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">massrow</span>.<span class="cm-property">extend</span>(<span class="cm-variable">massrow0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#number of elements in this matrix row</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">ncolm</span> = <span class="cm-builtin">len</span>(<span class="cm-variable">massrow</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-variable">ncolm</span> <span class="cm-operator">!</span>= <span class="cm-variable">nrowm</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-builtin">print</span>(<span class="cm-string">'ERROR: The number of columns do not equals to the number of rows of stiffness matrix!'</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">colind</span> = <span class="cm-operator">-</span><span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> <span class="cm-variable">entry</span> <span class="cm-keyword">in</span> <span class="cm-variable">massrow</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">colind</span> = <span class="cm-variable">colind</span> <span class="cm-operator">+</span> <span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">mass_mat</span>[<span class="cm-variable">rowind</span>, <span class="cm-variable">colind</span>] = <span class="cm-builtin">float</span>(<span class="cm-variable">entry</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#-----------------------------------------------------------------</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#read load vector</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#-----------------------------------------------------------------</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">loadloc</span> = <span class="cm-variable">llist</span>[<span class="cm-number">0</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">loadlist</span> = []</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> <span class="cm-variable">ind</span> <span class="cm-keyword">in</span> <span class="cm-builtin">range</span>(<span class="cm-variable">loadloc</span>, <span class="cm-variable">nlines</span>):</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">loadlist0</span> = <span class="cm-variable">subs_context</span>[<span class="cm-variable">ind</span>].<span class="cm-property">strip</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">loadlist0</span> = <span class="cm-variable">loadlist0</span>.<span class="cm-property">split</span>()</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-builtin">len</span>(<span class="cm-variable">loadlist0</span>) == <span class="cm-number">0</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">break</span>;</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">else</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">numflag</span> = <span class="cm-number">1</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">for</span> <span class="cm-variable">ele</span> <span class="cm-keyword">in</span> <span class="cm-variable">loadlist0</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-keyword">not</span> <span class="cm-variable">is_number</span>(<span class="cm-variable">ele</span>):</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">numflag</span> = <span class="cm-number">0</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">break</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-variable">numflag</span> == <span class="cm-number">1</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">loadlist</span>.<span class="cm-property">extend</span>(<span class="cm-variable">loadlist0</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">load_vec</span> = [<span class="cm-builtin">float</span>(<span class="cm-variable">x</span>) <span class="cm-keyword">for</span> <span class="cm-variable">x</span> <span class="cm-keyword">in</span> <span class="cm-variable">loadlist</span> ]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">load_vec</span> = <span class="cm-variable">np</span>.<span class="cm-property">array</span>(<span class="cm-variable">load_vec</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#-----------------------------------------------------------------</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#reset order of DOFs</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#-----------------------------------------------------------------</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-variable">reorder</span> == <span class="cm-number">1</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">stiffness_mat</span> = <span class="cm-variable">stiffness_mat</span>[<span class="cm-variable">np</span>.<span class="cm-property">ix_</span>(<span class="cm-variable">orderlist</span>,<span class="cm-variable">orderlist</span>)]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">mass_mat</span> &nbsp; &nbsp;  = <span class="cm-variable">mass_mat</span>[<span class="cm-variable">np</span>.<span class="cm-property">ix_</span>(<span class="cm-variable">orderlist</span>,<span class="cm-variable">orderlist</span>)]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">load_vec</span> &nbsp; &nbsp;  = <span class="cm-variable">load_vec</span>[<span class="cm-variable">orderlist</span>]</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#-----------------------------------------------------------------</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#write stiffness/mass matrices and load vector into files</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-comment">#-----------------------------------------------------------------</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">load_vec</span> = <span class="cm-variable">load_vec</span>.<span class="cm-property">reshape</span>([<span class="cm-number">1</span>,<span class="cm-operator">-</span><span class="cm-number">1</span>]).<span class="cm-property">T</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">if</span> <span class="cm-variable">reorder</span> == <span class="cm-number">0</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">np</span>.<span class="cm-property">savetxt</span>(<span class="cm-string">'mass_mat_ss.dat'</span>, <span class="cm-variable">mass_mat</span>, <span class="cm-variable">fmt</span>=<span class="cm-string">'%f'</span>, <span class="cm-variable">delimiter</span>=<span class="cm-string">' '</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">np</span>.<span class="cm-property">savetxt</span>(<span class="cm-string">'stiffness_mat_ss.dat'</span>, <span class="cm-variable">stiffness_mat</span>, <span class="cm-variable">fmt</span>=<span class="cm-string">'%f'</span>, <span class="cm-variable">delimiter</span>=<span class="cm-string">' '</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">np</span>.<span class="cm-property">savetxt</span>(<span class="cm-string">'load_vec_ss.dat'</span>, <span class="cm-variable">load_vec</span>, <span class="cm-variable">fmt</span>=<span class="cm-string">'%f'</span>, <span class="cm-variable">delimiter</span>=<span class="cm-string">' '</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-keyword">elif</span> <span class="cm-variable">reorder</span> == <span class="cm-number">1</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">np</span>.<span class="cm-property">savetxt</span>(<span class="cm-string">'mass_mat_ss_op.dat'</span>, <span class="cm-variable">mass_mat</span>, <span class="cm-variable">fmt</span>=<span class="cm-string">'%f'</span>, <span class="cm-variable">delimiter</span>=<span class="cm-string">' '</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">np</span>.<span class="cm-property">savetxt</span>(<span class="cm-string">'stiffness_mat_ss_op.dat'</span>, <span class="cm-variable">stiffness_mat</span>, <span class="cm-variable">fmt</span>=<span class="cm-string">'%f'</span>, <span class="cm-variable">delimiter</span>=<span class="cm-string">' '</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">np</span>.<span class="cm-property">savetxt</span>(<span class="cm-string">'load_vec_ss_op.dat'</span>, <span class="cm-variable">load_vec</span>, <span class="cm-variable">fmt</span>=<span class="cm-string">'%f'</span>, <span class="cm-variable">delimiter</span>=<span class="cm-string">' '</span>)</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span cm-text="" cm-zwsp="">
</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-comment">##########################################################################################</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-keyword">if</span> <span class="cm-variable">__name__</span> == <span class="cm-string">'__main__'</span>:</span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation" style="padding-right: 0.1px;"><span class="cm-tab" role="presentation" cm-text="	">    </span><span class="cm-variable">ansys_substructure_matrix_reader</span>(<span class="cm-variable">substructure_output</span>, <span class="cm-variable">reorder</span>)</span></pre></div></div></div></div></div><div style="position: absolute; height: 0px; width: 1px; border-bottom: 0px solid transparent; top: 4991px;"></div><div class="CodeMirror-gutters" style="display: none; height: 4991px;"></div></div></div></pre><p>&nbsp;</p><p><strong><span>大树</span></strong><span> </span></p><p><strong><span>写于2021年8月8日</span></strong></p>
        </div>
    </div>
</body>

<!-- Sidebar -->
<div id="sidebar">
    <div class="inner">

        <!-- Menu -->
        <nav id="menu">
            <header class="major">
                <h2>内容</h2>
            </header>
            <ul>
                <li><a href="http://feacat.com/index.html">首页</a></li>
                <li><a href="http://feacat.com/FEA.html">有限元</a></li>
                <li><a href="http://feacat.com/civil.html">土木</a></li>
                <li><a href="http://feacat.com/mechanical.html">机械</a></li>
                <li><a href="http://feacat.com/software.html">软件</a></li>
                <li><a href="http://feacat.com/book.html">好书推荐</a></li>
                <li><a href="http://feacat.com/others.html">其他</a></li>
            </ul>
        </nav>

        <!-- Section -->
        <section>
            <header class="major">
                <h2>联系我</h2>
            </header>
            <p>如果文章需要转载请注明出处，并通过以下方式联系我</p>
            <ul class="contact">
                <li class="icon solid fa-envelope"><a href="#">392176462@qq.com</a></li>
                <li class="icon solid fa-phone">18817729451</li>
                <li class="icon solid fa-home">上海市</li>
            </ul>
        </section>
        <!-- Footer -->
        <footer id="footer">
            <p class="copyright">&copy; Untitled. All rights reserved.</p>
        </footer>

    </div>
</div>
</html>